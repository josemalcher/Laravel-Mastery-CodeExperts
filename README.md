# Laravel Mastery - CodeExperts

https://codeexperts.com.br/curso/laravel-mastery



## <a name="indice">Índice</a>

1. [1. Boas Vindas](#parte1)     
2. [01 - Seja Bem-Vindo](#parte2)     
3. [02 - Quem Sou Eu](#parte3)     
4. [03 - Ferramentas](#parte4)     
5. [2. Ambiente](#parte5)     
6. [04 - Formas de Iniciar Projeto](#parte6)     
7. [05 - Laravel Installer OS X](#parte7)     
8. [06 - Laravel Installer Linux](#parte8)     
9. [07 - Laravel Installer Windows](#parte9)     
10. [3. Primeiros Passos Visão Geral](#parte10)     
11. [08 - Iniciando Projeto](#parte11)     
12. [09 - Diretórios Projeto](#parte12)     
13. [10 - Panorama Inicial do Laravel](#parte13)     
14. [11 - Parâmetros Dinâmicos Rota](#parte14)     
15. [12 - Rotas & Controllers](#parte15)     
16. [13 - O Artisan](#parte16)     
17. [14 - Entendendo as Configurações](#parte17)     
18. [15 - Migrations](#parte18)     
19. [16 - Executando Migrations](#parte19)     
20. [17 - Criando Primeira Migração](#parte20)     
21. [18 - Os Models](#parte21)     
22. [19 - O Eloquent e Queries](#parte22)     
23. [20 - O Tinker](#parte23)     
24. [21 - Assets Frontend](#parte24)     
25. [22 - Conclusões](#parte25)     
26. [4. Migrations, Seeders e Factories](#parte26)     
27. [23 - Introdução](#parte27)     
28. [24 - Seeders e Factories](#parte28)     
29. [25 - Executando Seeds e Factories](#parte29)     
30. [26 - Primeira Factory e Seeds](#parte30)     
31. [27 - Comandos Fresh e Refresh](#parte31)     
32. [28 - Comando Rollback e Reset](#parte32)     
33. [29 - Falando Sobre Migrações](#parte33)     
34. [30 - Uma Migração de Edição](#parte34)     
35. [31 - Schema Dump](#parte35)     
36. [32 - Conclusões](#parte36)     
37. [5. Eloquent](#parte37)     
38. [33 - Introdução](#parte38)     
39. [34 - Relembrando Models](#parte39)     
40. [35 - Active Record Inserção](#parte40)     
41. [36 - Active Record Atualização](#parte41)     
42. [37 - Mass Assignment Criação](#parte42)     
43. [38 - Update em Massa](#parte43)     
44. [39 - Removendo Dados](#parte44)     
45. [40 - Organizando CRUD](#parte45)     
46. [41 - Prelúdio Relacionamentos](#parte46)     
47. [42 - Migração Tabela Perfil](#parte47)     
48. [43 - Mapeando 1:1 Models](#parte48)     
49. [44 - Salvando 1:1](#parte49)     
50. [45 - Recuperando 1:1](#parte50)     
51. [46 - Migração 1:N](#parte51)     
52. [47 - Mapeando 1:N Models](#parte52)     
53. [48 - Salvando 1:N](#parte53)     
54. [49 - Recuperando 1:N](#parte54)     
55. [50 - Migração N:N](#parte55)     
56. [51 - Gerando Algumas Categories](#parte56)     
57. [52 - Mapeando N:N Models](#parte57)     
58. [53 - Salvando N:N](#parte58)     
59. [54 - Recuperando N:N](#parte59)     
60. [55 - Manipulando BelongsTo](#parte60)     
61. [56 - Conclusão](#parte61)     
62. [6. Factories com Relacionamentos](#parte62)     
63. [57 - Iniciando Factories: Profile e Photo](#parte63)     
64. [58 - Factories com Relacionamento HasMany](#parte64)     
65. [59 - Factories com Relacionamento HasOne](#parte65)     
66. [60 - Factories com BelongsTo](#parte66)     
67. [61 - Executando as Factories via Seed](#parte67)     
68. [7. View: Laravel Blade](#parte68)     
69. [62 - Introdução](#parte69)     
70. [63 - Relembrando as Views](#parte70)     
71. [64 - Loop e Passagem de Dados View](#parte71)     
72. [65 - Diretiva ForElse](#parte72)     
73. [66 - O print do Blade](#parte73)     
74. [67 - Herança de Templates](#parte74)     
75. [68 - Incrementando Views de Eventos](#parte75)     
76. [69 - Melhorias Home e Inicio de Single](#parte76)     
77. [70 - Compondo View Single Evento](#parte77)     
78. [71 - Exibindo Fotos Evento se Existirem](#parte78)     
79. [72 - Organizando com HomeController](#parte79)     
80. [73 - Conclusões](#parte80)     
81. [8. View: Manipulação de Formulários](#parte81)     
82. [74 - Introdução](#parte82)     
83. [75 - Organizando Rotas Painel Eventos](#parte83)     
84. [76 - Listagem de Eventos](#parte84)     
85. [77 - Paginando Dados](#parte85)     
86. [78 - Tela de Criação de Evento](#parte86)     
87. [79 - Entendendo CSRF no Laravel](#parte87)     
88. [80 - Manipulando Dados da Request](#parte88)     
89. [81 - Editando Eventos](#parte89)     
90. [82 - Linkando Edição e Remoção de Evento](#parte90)     
91. [83 - Melhorias Manipulação de Request](#parte91)     
92. [84 - Conclusões](#parte92)     
93. [9. Laravel Router](#parte93)     
94. [85 - Introdução](#parte94)     
95. [86 - Relembrando Rotas](#parte95)     
96. [87 - Organizando Rotas com Prefixo e Grupo](#parte96)     
97. [88 - Usando Apelido de Rotas](#parte97)     
98. [89 - Refatorando Links nas Views](#parte98)     
99. [90 - Refatorando Redirecionamentos](#parte99)     
100. [91 - Dando um Tapa no Painel de Eventos](#parte100)     
101. [92 - Conclusões](#parte101)     
102. [10. Manipulando Validações](#parte102)     
103. [93 - Introdução](#parte103)     
104. [94 - Usando Validação Controller](#parte104)     
105. [95 - Exibindo Todoas as Validações na View](#parte105)     
106. [96 - Exibindo Validações POr Input](#parte106)     
107. [97 - Diretiva @error](#parte107)     
108. [98 - Traduzindo Mensagens de Validação](#parte108)     
109. [99 - Melhorando Para Form Requests](#parte109)     
110. [100 - Validação na Edição do Evento](#parte110)     
111. [101 - Conclusões](#parte111)     
112. [11. Controllers como Recurso](#parte112)     
113. [102 - Introdução](#parte113)     
114. [103 - O que são Controllers como Recurso](#parte114)     
115. [104 - Criando Controllers como Recurso](#parte115)     
116. [105 - Controller como Recurso em Eventos](#parte116)     
117. [106 - Tomando Nota dos Ganhos](#parte117)     
118. [107 - Recursos Aninhados](#parte118)     
119. [108 - Recursos Aninhados no Projeto e Mais](#parte119)     
120. [109 - Registrando Vários Recursos](#parte120)     
121. [110 - DI nos Controllers](#parte121)     
122. [111 - Conclusões](#parte122)     
123. [12. Primeiro Starter Point: Laravel UI](#parte123)     
124. [112 - Intro e Obtendo Laravel UI](#parte124)     
125. [113 - Gerando Autenticação](#parte125)     
126. [114 - Conhecendo os Arquivos do Auth](#parte126)     
127. [115 - Adaptações do Nosso Painel](#parte127)     
128. [116 - O Btn de Logout](#parte128)     
129. [117 - Arquivo de Configurações Auth](#parte129)     
130. [118 - Configurações para Dono de Evento](#parte130)     
131. [119 - Eventos por Usuário Logado](#parte131)     
132. [120 - O Middleware Authenticate](#parte132)     
133. [121 - Conclusões](#parte133)     
134. [13. Melhorias Projeto Eventos](#parte134)     
135. [122 - Introdução](#parte135)     
136. [123 - Entendendo Eloquent Accessors](#parte136)     
137. [124 - Entendendo Eloquent Mutators](#parte137)     
138. [125 - Máscara de Data Evento](#parte138)     
139. [126 - Formatando Data para o Banco](#parte139)     
140. [127 - Nosso primeiro Middleware](#parte140)     
141. [128 - Usuário: Bloqueando Acesso A Outros Eventos](#parte141)     
142. [129 - Melhorias Home de Eventos](#parte142)     
143. [130 - Busca de Eventos](#parte143)     
144. [131 - Filtro Por Categorias](#parte144)     
145. [132 - View Share e Composer](#parte145)     
146. [133 - Melhorando View Composer](#parte146)     
147. [134 - Eventos Que Vão Acontecer e Concluindo](#parte147)     
148. [14. Upload de Arquivos](#parte148)     
149. [135 - Introdução](#parte149)     
150. [136 - Iniciando Upload](#parte150)     
151. [137 - Configurações de Upload](#parte151)     
152. [138 - Upload e Save no Banco](#parte152)     
153. [139 - Validando Upload de Imagens](#parte153)     
154. [140 - Iniciando Upload na Edição](#parte154)     
155. [141 - Concluindo Upload na Edição](#parte155)     
156. [142 - Upload de Múltiplos Arquivos](#parte156)     
157. [143 - Salvando Referencias no Banco Upload Múltiplo](#parte157)     
158. [144 - Validando Múltiplos Arquivos](#parte158)     
159. [145 - Deletando Fotos do Evento](#parte159)     
160. [146 - Falando Mais Sobre Route Model Bind](#parte160)     
161. [147 - Jogando o Upload para Trait](#parte161)     
162. [148 - Conclusões](#parte162)     
163. [15. Melhorias & Encerramento Bloco 1 --atualizando](#parte163)     
164. [149 - Introdução](#parte164)     
165. [150 - Mapeando Relação Inscrição](#parte165)     
166. [151 - Entendendo M-M com Dados Extras](#parte166)     
167. [152 - Iniciando Processo de Inscrição](#parte167)     
168. [153 - Tela de Confirmação de Inscrição](#parte168)     
169. [154 - Concluindo Processo de Inscrição](#parte169)     
170. [155 - Melhorias Processo de Inscrição](#parte170)     
171. [156 - Classe Mailable](#parte171)     
172. [157 - Configurações e Envio de E-mail](#parte172)     
173. [158 - Evento: Uma Inscrição Por Usuário](#parte173)     
174. [159 - Categorias Na Criação e Edição de Eventos](#parte174)     
175. [160 - Processando Associação de Categorias e Eventos](#parte175)     
176. [161 - Melhorias Painel](#parte176)     
177. [162 - Iniciando Perfil do Usuário](#parte177)     
178. [163 - Processando Atualização de Perfil](#parte178)     
179. [164 - Validações na Atualização do Perfil](#parte179)     
180. [165 - O Validador Unique no Update](#parte180)     
181. [166 - Concluindo Perfil](#parte181)     
---


## <a name="parte1">1 - 1. Boas Vindas</a>



[Voltar ao Índice](#indice)

---


## <a name="parte2">2 - 01 - Seja Bem-Vindo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte3">3 - 02 - Quem Sou Eu</a>



[Voltar ao Índice](#indice)

---


## <a name="parte4">4 - 03 - Ferramentas</a>

- PHP Storm
Para estudantes, solicite em https://www.jetbrains.com/student/

Para open source, caso você contribua, solicite em https://www.jetbrains.com/community/opensource/

Visual Studio Code: https://code.visualstudio.com/

[Voltar ao Índice](#indice)

---


## <a name="parte5">5 - 2. Ambiente</a>

- php 7.3+

```
$ php -m
[PHP Modules]
bcmath
ctype
fileinfo
json
mbstring
openssl
PDO
tokenizer
xml

```

[Voltar ao Índice](#indice)

---


## <a name="parte6">6 - 04 - Formas de Iniciar Projeto</a>



[Voltar ao Índice](#indice)

---


## <a name="parte7">7 - 05 - Laravel Installer OS X</a>



[Voltar ao Índice](#indice)

---


## <a name="parte8">8 - 06 - Laravel Installer Linux</a>



[Voltar ao Índice](#indice)

---


## <a name="parte9">9 - 07 - Laravel Installer Windows</a>

```
$ composer global require laravel/installer

add PATH Composer e /laravel/bin/

laravel new projeto01

php artisan serve

```

[Voltar ao Índice](#indice)

---


## <a name="parte10">10 - 3. Primeiros Passos Visão Geral</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel)

[Voltar ao Índice](#indice)

---


## <a name="parte11">11 - 08 - Iniciando Projeto</a>



[Voltar ao Índice](#indice)

---


## <a name="parte12">12 - 09 - Diretórios Projeto</a>



[Voltar ao Índice](#indice)

---


## <a name="parte13">13 - 10 - Panorama Inicial do Laravel</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php)

```php
<?php

use Illuminate\Support\Facades\Route;

Route::get('/', function () {
    return view('welcome');
});

Route::get('hello', function (){
    return view('hello');
});

```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php)



[Voltar ao Índice](#indice)

---


## <a name="parte14">14 - 11 - Parâmetros Dinâmicos Rota</a>

```php

// ? -> informa que o parâmetro não é obrigatório
Route::get('/hello-name/{name?}', function ($name = 'Anônimo'){
    return 'Hello, ' . $name;
});


```

[Voltar ao Índice](#indice)

---


## <a name="parte15">15 - 12 - Rotas & Controllers</a>

```php
<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class HelloWorldController extends Controller
{
    public function helloworld()
    {
        return view('hello');
    }

    public function hello($name = 'Anônimo')
    {
        return 'Hello, ' . $name;
    }
}

```

```php
Route::get('hello', [\App\Http\Controllers\HelloWorldController::class, 'helloworld']);

// ? -> informa que o parâmetro não é obrigatório
Route::get('/hello-name/{name?}', [\App\Http\Controllers\HelloWorldController::class,'hello']);

```

[Voltar ao Índice](#indice)

---


## <a name="parte16">16 - 13 - O Artisan</a>

```
php artisan

php artisan make:controller --help

php artisan help make:controller
```

[Voltar ao Índice](#indice)

---


## <a name="parte17">17 - 14 - Entendendo as Configurações</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/.env](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/.env)




[Voltar ao Índice](#indice)

---


## <a name="parte18">18 - 15 - Migrations</a>

```
php artisan migrate:status

php artisan migrate:install

php artisan migrate
```

[Voltar ao Índice](#indice)

---


## <a name="parte19">19 - 16 - Executando Migrations</a>



[Voltar ao Índice](#indice)

---


## <a name="parte20">20 - 17 - Criando Primeira Migração</a>

```
$ php artisan make:migration create_events_table

public function up()
    {
        Schema::create('events', function (Blueprint $table) {
            $table->id();
            $table->timestamps();
        });
    }
```

```
    php artisan migrate
```

[Voltar ao Índice](#indice)

---


## <a name="parte21">21 - 18 - Os Models</a>

```
php artisan make:model Event -m // -m cria a migration junto
```

[Voltar ao Índice](#indice)

---


## <a name="parte22">22 - 19 - O Eloquent e Queries</a>

```php

Route::get('/queries/{event}', function ($event) {

    //$events = \App\Models\Event::all();
    //$events = \App\Models\Event::all(['title', 'description']);

    //$event =  \App\Models\Event::where('id', 1)->get();

    //$event =  \App\Models\Event::where('id', 1)->first();
    $events = \App\Models\Event::find($event);

    return $events;

}); 
```

[Voltar ao Índice](#indice)

---


## <a name="parte23">23 - 20 - O Tinker</a>

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman

>>> \App\Models\Event::all()
=> Illuminate\Database\Eloquent\Collection {#4125
     all: [
       App\Models\Event {#4127
         id: 1,
         title: "Evento 1",
         description: "Evento teste descrição 1",
         created_at: "2021-06-29 10:46:19",
         updated_at: "2021-06-29 10:46:21",
       },

```

[Voltar ao Índice](#indice)

---


## <a name="parte24">24 - 21 - Assets Frontend</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/public](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/public)

```
yarn install

yarn run dev
```

[Voltar ao Índice](#indice)

---


## <a name="parte25">25 - 22 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte26">26 - 4. Migrations, Seeders e Factories</a>



[Voltar ao Índice](#indice)

---


## <a name="parte27">27 - 23 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte28">28 - 24 - Seeders e Factories</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php)

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/factories/UserFactory.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/factories/UserFactory.php)

[Voltar ao Índice](#indice)

---


## <a name="parte29">29 - 25 - Executando Seeds e Factories</a>

- [https://github.com/fzaninotto/Faker](https://github.com/fzaninotto/Faker)



[Voltar ao Índice](#indice)

---


## <a name="parte30">30 - 26 - Primeira Factory e Seeds</a>

```
$ php artisan make:factory EventFactory
Factory created successfully.

```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/factories/EventFactory.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/factories/EventFactory.php)

```php 
public function definition()
    {
        return [
            'title'       => $this->faker->sentence,
            'description' => $this->faker->paragraph,
        ];
    }
```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php)

```php
\App\Models\Event::factory(30)->create();
```

```
$ php artisan db:seed
Database seeding completed successfully.

```

```
$ php artisan make:seeder UsersTableSeeder
Seeder created successfully.

$ php artisan make:seeder EventsTableSeeder
Seeder created successfully.

```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/seeders/DatabaseSeeder.php)

```php
    public function run()
    {
        $this->call(UsersTableSeeder::class);
        $this->call(EventsTableSeeder::class);
    }
```

[Voltar ao Índice](#indice)

---


## <a name="parte31">31 - 27 - Comandos Fresh e Refresh</a>

```
$ php artisan migrate:status
+------+------------------------------------------------+-------+
| Ran? | Migration                                      | Batch |
+------+------------------------------------------------+-------+
| Yes  | 2014_10_12_000000_create_users_table           | 1     |
| Yes  | 2014_10_12_100000_create_password_resets_table | 1     |
| Yes  | 2019_08_19_000000_create_failed_jobs_table     | 1     |
| Yes  | 2021_06_29_132248_create_events_table          | 2     |
+------+------------------------------------------------+-------+

```

```
$ php artisan migrate:refresh
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (80.99ms)
Rolling back: 2019_08_19_000000_create_failed_jobs_table
Rolled back:  2019_08_19_000000_create_failed_jobs_table (13.60ms)
Rolling back: 2014_10_12_100000_create_password_resets_table
Rolled back:  2014_10_12_100000_create_password_resets_table (21.34ms)
Rolling back: 2014_10_12_000000_create_users_table
Rolled back:  2014_10_12_000000_create_users_table (16.71ms)
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (55.51ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (36.81ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (38.55ms)
Migrating: 2021_06_29_132248_create_events_table
Migrated:  2021_06_29_132248_create_events_table (18.94ms)

```

```
$ php artisan migrate:refresh --seed
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (13.37ms)
Rolling back: 2019_08_19_000000_create_failed_jobs_table
Rolled back:  2019_08_19_000000_create_failed_jobs_table (8.78ms)
Rolling back: 2014_10_12_100000_create_password_resets_table
Rolled back:  2014_10_12_100000_create_password_resets_table (7.29ms)
Rolling back: 2014_10_12_000000_create_users_table
Rolled back:  2014_10_12_000000_create_users_table (9.22ms)
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (41.09ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (36.27ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (40.78ms)
Migrating: 2021_06_29_132248_create_events_table
Migrated:  2021_06_29_132248_create_events_table (18.09ms)
Seeding: Database\Seeders\UsersTableSeeder
Seeded:  Database\Seeders\UsersTableSeeder (347.65ms)
Seeding: Database\Seeders\EventsTableSeeder
Seeded:  Database\Seeders\EventsTableSeeder (76.90ms)
Database seeding completed successfully.

```

```
$ php artisan migrate:fresh

Dropped all tables successfully. // <<<<<<---------------------

Migration table created successfully.
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (57.18ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (65.08ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (56.45ms)
Migrating: 2021_06_29_132248_create_events_table
Migrated:  2021_06_29_132248_create_events_table (35.60ms)

```

[Voltar ao Índice](#indice)

---


## <a name="parte32">32 - 28 - Comando Rollback e Reset</a>

```
$ php artisan migrate:rollback
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (14.14ms)
Rolling back: 2019_08_19_000000_create_failed_jobs_table
Rolled back:  2019_08_19_000000_create_failed_jobs_table (5.54ms)
Rolling back: 2014_10_12_100000_create_password_resets_table
Rolled back:  2014_10_12_100000_create_password_resets_table (6.83ms)
Rolling back: 2014_10_12_000000_create_users_table
Rolled back:  2014_10_12_000000_create_users_table (5.04ms)
```

```
$ php artisan migrate:rollback --step=2

```

```
$ php artisan migrate:reset
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (13.18ms)
Rolling back: 2019_08_19_000000_create_failed_jobs_table
Rolled back:  2019_08_19_000000_create_failed_jobs_table (7.49ms)
Rolling back: 2014_10_12_100000_create_password_resets_table
Rolled back:  2014_10_12_100000_create_password_resets_table (8.24ms)
Rolling back: 2014_10_12_000000_create_users_table
Rolled back:  2014_10_12_000000_create_users_table (9.76ms)

```

[Voltar ao Índice](#indice)

---


## <a name="parte33">33 - 29 - Falando Sobre Migrações</a>

```
$ php artisan migrate:refresh --step=1
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (12.88ms)
Migrating: 2021_06_29_132248_create_events_table
Migrated:  2021_06_29_132248_create_events_table (15.55ms)

```

```
$ php artisan migrate:refresh --seed
Rolling back: 2021_06_29_132248_create_events_table
Rolled back:  2021_06_29_132248_create_events_table (9.54ms)
Rolling back: 2019_08_19_000000_create_failed_jobs_table
Rolled back:  2019_08_19_000000_create_failed_jobs_table (5.81ms)
Rolling back: 2014_10_12_100000_create_password_resets_table
Rolled back:  2014_10_12_100000_create_password_resets_table (5.73ms)
Rolling back: 2014_10_12_000000_create_users_table
Rolled back:  2014_10_12_000000_create_users_table (6.25ms)
Migrating: 2014_10_12_000000_create_users_table
Migrated:  2014_10_12_000000_create_users_table (30.65ms)
Migrating: 2014_10_12_100000_create_password_resets_table
Migrated:  2014_10_12_100000_create_password_resets_table (27.50ms)
Migrating: 2019_08_19_000000_create_failed_jobs_table
Migrated:  2019_08_19_000000_create_failed_jobs_table (87.49ms)
Migrating: 2021_06_29_132248_create_events_table
Migrated:  2021_06_29_132248_create_events_table (49.43ms)
Seeding: Database\Seeders\UsersTableSeeder
Seeded:  Database\Seeders\UsersTableSeeder (119.07ms)
Seeding: Database\Seeders\EventsTableSeeder
Seeded:  Database\Seeders\EventsTableSeeder (58.96ms)
Database seeding completed successfully.

```

[Voltar ao Índice](#indice)

---


## <a name="parte34">34 - 30 - Uma Migração de Edição</a>

- [https://laravel.com/docs/8.x/migrations#available-column-types](https://laravel.com/docs/8.x/migrations#available-column-types)

```
$ php artisan make:migration alter_events_table_add_column_slug --table=events

Created Migration: 2021_06_29_234605_alter_events_table_add_column_slug

$ php artisan migrate:status
+------+------------------------------------------------------+-------+
| Ran? | Migration                                            | Batch |
+------+------------------------------------------------------+-------+
| Yes  | 2014_10_12_000000_create_users_table                 | 2     |
| Yes  | 2014_10_12_100000_create_password_resets_table       | 2     |
| Yes  | 2019_08_19_000000_create_failed_jobs_table           | 2     |
| Yes  | 2021_06_29_132248_create_events_table                | 2     |
| No   | 2021_06_30_000514_alter_events_table_add_column_slug |       |
+------+------------------------------------------------------+-------+

$ php artisan migrate
Migrating: 2021_06_30_000514_alter_events_table_add_column_slug
Migrated:  2021_06_30_000514_alter_events_table_add_column_slug (31.86ms)

$ php artisan db:seed
Seeding: Database\Seeders\UsersTableSeeder
Seeded:  Database\Seeders\UsersTableSeeder (140.18ms)
Seeding: Database\Seeders\EventsTableSeeder
Seeded:  Database\Seeders\EventsTableSeeder (53.62ms)
Database seeding completed successfully.

```

[Voltar ao Índice](#indice)

---


## <a name="parte35">35 - 31 - Schema Dump</a>

```
$ php artisan schema:dump

```

[Voltar ao Índice](#indice)

---


## <a name="parte36">36 - 32 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte37">37 - 5. Eloquent</a>



[Voltar ao Índice](#indice)

---


## <a name="parte38">38 - 33 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte39">39 - 34 - Relembrando Models</a>



[Voltar ao Índice](#indice)

---


## <a name="parte40">40 - 35 - Active Record Inserção</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/routes/web.php)

```php
    // insert into events(title, description, body, start_event) values(?,?,?,?)
    //Active Record
    $event = new \App\Models\Event();
    $event->title = 'Evento TESTE AR 2';
    $event->description = 'Evento gravado via AR 2';
    $event->body = 'conteudo...';
    $event->start_event = date('Y-m-d H:i:s');
    $event->slug = \Illuminate\Support\Str::slug($event->title);

    return $event->save();
```

[Voltar ao Índice](#indice)

---


## <a name="parte41">41 - 36 - Active Record Atualização</a>

```php
    //update event set title = ? , description = ? (...) where id = ?
    $event = \App\Models\Event::find(32);
    $event->title = 'EVENTO 2 Atualizado';
    $event->slug  = \Illuminate\Support\Str::slug($event->title);

    return $event->save();
```

[Voltar ao Índice](#indice)

---


## <a name="parte42">42 - 37 - Mass Assignment Criação</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Event.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Event.php)

```php
    protected $fillable = [
        'title',
        'description',
        'body',
        'start_event',
        'slug'
    ];
```

```php
// Atribuição Massa ou Mass Assingnment
    $event = [
        'title' => 'Titulo add 3',
        'description' => 'Descrição 3',
        'body' => 'Corpo 3',
        'start_event' => date('Y-m-d H:i:s'),
        'slug' => 'titulo-adddddd-3-with-array-3'

    ];
    return \App\Models\Event::create($event);
```

[Voltar ao Índice](#indice)

---


## <a name="parte43">43 - 38 - Update em Massa</a>

```php
    // Update Massa ou Mass Assingnment
    $eventData = [
        //    'title' => 'Titulo add 3',
        'description' => 'Descrição 3333 UPDATE MASS',
        'body' => 'Corpo 3 UPDATE MASS',
        //    'start_event' => date('Y-m-d H:i:s'),
        //    'slug' => 'titulo-adddddd-3-with-array-3'
    ];

    $event = \App\Models\Event::find(33);
    $event->update($eventData);

    return $event;
```

[Voltar ao Índice](#indice)

---


## <a name="parte44">44 - 39 - Removendo Dados</a>

```php
    $event = \App\Models\Event::findOrFail(1);
    return $event->delete();
```

```php
//  Delete Models via ids  [ 2,3,4,5]
    return \App\Models\Event::destroy([2,3,4,5]);
```

```php
    //Select * from events order by id ASC limt 3
    return \App\Models\Event::orderBy('id', 'ASC')->limit(3)->get();
```

[Voltar ao Índice](#indice)

---


## <a name="parte45">45 - 40 - Organizando CRUD</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Http/Controllers/EventController.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Http/Controllers/EventController.php)

```php
<?php
namespace App\Http\Controllers;
use App\Models\Event;
use Illuminate\Http\Request;
class EventController extends Controller
{
    public function index()
    {
        return Event::all();
    }
    public function store()
    {
        $eventData = [
            'title' => 'Titulo add 3' . rand(1, 100),
            'description' => 'Descrição 3333 UPDATE MASS',
            'body' => 'Corpo 3 UPDATE MASS',
            'start_event' => date('Y-m-d H:i:s'),
            'slug' => 'titulo-adddddd-3-with-array-3'
        ];
        return Event::create($eventData);
    }
    public function update($event)
    {
        $eventData = [
            'title' => 'Titulo add 3' . rand(1, 100),
        ];
        $event = \App\Models\Event::find($event);

        $event->update($eventData);

        return $event;
    }
    public function destroy($event)
    {
        $event = \App\Models\Event::findOrFail($event);
        return $event->delete();
    }
}

```

[Voltar ao Índice](#indice)

---


## <a name="parte46">46 - 41 - Prelúdio Relacionamentos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte47">47 - 42 - Migração Tabela Perfil</a>

```
$ php artisan make:model Profile -m
Model created successfully.
Created Migration: 2021_07_01_123354_create_profiles_table

```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/migrations/2021_07_01_123354_create_profiles_table.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/database/migrations/2021_07_01_123354_create_profiles_table.php)

```php
public function up()
    {
        Schema::create('profiles', function (Blueprint $table) {
            $table->id();
            /*
             user_id (conter a chave estrangeira) && a chave estrangeira
                ela tem um padrão: profiles_user_id_foreign
            */
            $table
                ->foreignId('user_id')
                ->constrained()
                ->cascadeOnDelete();

            $table->text('about')->nullable();
            $table->string('phone', 15)->nullable();
            $table->text('social_networks')->nullable();

            $table->timestamps();

            //Definindo chave estrangeira anteriormente ao laravel 7
           /* $table
                ->foreignId('user_id')
                ->references('id')
                ->on('users')
                ->onDelete('cascade');*/
        });
    }
```

```
$ php artisan migrate
Migrating: 2021_07_01_123354_create_profiles_table
Migrated:  2021_07_01_123354_create_profiles_table (118.53ms)

```

![42 - Migração Tabela Perfil](/imgs/42-table-profile.png)

[Voltar ao Índice](#indice)

---


## <a name="parte48">48 - 43 - Mapeando 1:1 Models</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/User.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/User.php)

```php
    // Representa a ligação entre o MODEL User e o MODEL Profile
    // e indica que User tem um Profile
    public function profile()
    {
        // automaticamente procura por esta coluna: user_id, em profile
        return $this->hasOne(Profile::class);
    }
```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Profile.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Profile.php)

```php
    public function user()
    {
        //por conta do nome do método que a coluna é user_id
        return $this->belongsTo(User::class);
    }
```

[Voltar ao Índice](#indice)

---


## <a name="parte49">49 - 44 - Salvando 1:1</a>

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> $p = new \App\Models\Profile();
=> App\Models\Profile {#3404}
>>> $p-> about = 'Sobre Mim';
=> "Sobre Mim"
>>> $p-> phone = '99999888';
=> "99999888"
>>> $p->social_networks = 'facebook, google, twitte';
=> "facebook, google, twitte"
>>> $u = \App\Models\User::find(1);
=> App\Models\User {#4195
     id: 1,
     name: "Miss Yvette Blick",
     email: "brent79@example.com",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "hBxAvcgCOW",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }
>>> $u->profile()->save($p)
=> App\Models\Profile {#3404
     about: "Sobre Mim",
     phone: "99999888",
     social_networks: "facebook, google, twitte",
     user_id: 1,
     updated_at: "2021-07-01 18:38:36",
     created_at: "2021-07-01 18:38:36",
     id: 1,
   }
```

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> $user = \App\Models\User::find(2);
=> App\Models\User {#4194
     id: 2,
     name: "Colt Howell",
     email: "iparisian@example.com",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "Pzddxu1xeg",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }
>>> $p = [
... 'about' => 'Sobre mim 2',
... 'phone' => '7777777',
... 'social_networks' => 'twitter'
... ];
=> [
     "about" => "Sobre mim 2",
     "phone" => "7777777",
     "social_networks" => "twitter",
   ]

>>> $user->profile()->create($p);
=> App\Models\Profile {#4339
     about: "Sobre mim 2",
     phone: "7777777",
     social_networks: "twitter",
     user_id: 2,
     updated_at: "2021-07-01 18:55:06",
     created_at: "2021-07-01 18:55:06",
     id: 2,
   }
```


[Voltar ao Índice](#indice)

---


## <a name="parte50">50 - 45 - Recuperando 1:1</a>

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman

>>> $u = \App\Models\User::find(1)
=> App\Models\User {#4196
     id: 1,
     name: "Miss Yvette Blick",
     email: "brent79@example.com",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "hBxAvcgCOW",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }

>>> $u->profile();
=> Illuminate\Database\Eloquent\Relations\HasOne {#3409}

>>> $u->profile;
=> App\Models\Profile {#4129
     id: 1,
     user_id: 1,
     about: "Sobre Mim",
     phone: "99999888",
     social_networks: "facebook, google, twitte",
     created_at: "2021-07-01 18:38:36",
     updated_at: "2021-07-01 18:38:36",
   }

```

```
>>> $user3 = \App\Models\User::find(3);
=> App\Models\User {#4131
     id: 3,
     name: "Bessie Bode",
     email: "orath@example.org",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "ZGczeoXU85",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }
>>> $user3->profile;
=> null

>>> $user3->profile()->exists();
=> false

```

```
>>> $perfil1 = \App\Models\Profile::find(1);
=> App\Models\Profile {#3405
     id: 1,
     user_id: 1,
     about: "Sobre Mim",
     phone: "99999888",
     social_networks: "facebook, google, twitte",
     created_at: "2021-07-01 18:38:36",
     updated_at: "2021-07-01 18:38:36",
   }
>>> $perfil1->user()->first();
=> App\Models\User {#4344
     id: 1,
     name: "Miss Yvette Blick",
     email: "brent79@example.com",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "hBxAvcgCOW",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }
>>> $perfil1->user;
=> App\Models\User {#4345
     id: 1,
     name: "Miss Yvette Blick",
     email: "brent79@example.com",
     email_verified_at: "2021-06-30 00:08:08",
     #password: "$2y$10$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi",
     #remember_token: "hBxAvcgCOW",
     created_at: "2021-06-30 00:08:08",
     updated_at: "2021-06-30 00:08:08",
   }
>>> $perfil1->user->name;
=> "Miss Yvette Blick"

```

[Voltar ao Índice](#indice)

---


## <a name="parte51">51 - 46 - Migração 1:N</a>

```
$ php artisan make:model Photo -m
Model created successfully.
Created Migration: 2021_07_01_225814_create_photos_table

```

```php
 public function up()
    {
        Schema::create('photos', function (Blueprint $table) {
            $table->id();

            $table->foreignId('event_id')->constrained()->cascadeOnDelete();
            $table->string('photo');

            $table->timestamps();
        });
    }
```

```php
class Photo extends Model
{
    use HasFactory;

    protected $fillable = ['photo'];
}

```

```
$ php artisan migrate
Migrating: 2021_07_01_225814_create_photos_table
Migrated:  2021_07_01_225814_create_photos_table (98.31ms)

```

[Voltar ao Índice](#indice)

---


## <a name="parte52">52 - 47 - Mapeando 1:N Models</a>

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Event.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Event.php)

```php
    public function photos()
    {
        return $this->hasMany(Photo::class);
    }
```

- [3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Photo.php](3-Primeiros-Passos-Visao-Geral/10-Panorama-Inicial-do-Laravel/app/Models/Photo.php)

```php
    public function event()
    {
        return $this->belongsTo(Event::class);
    }
```

[Voltar ao Índice](#indice)

---


## <a name="parte53">53 - 48 - Salvando 1:N</a>

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> $photo = ['photo'=> 'imagem.png'];
=> [
     "photo" => "imagem.png",
   ]
>>> \App\Models\Event::find(35)->photos()->create($photo);
=> App\Models\Photo {#4284
     photo: "imagem.png",
     event_id: 35,
     updated_at: "2021-07-02 11:56:30",
     created_at: "2021-07-02 11:56:30",
     id: 1,
   }
>>>

```

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> $photoModel = new \App\Models\Photo();
=> App\Models\Photo {#3404}
>>> $photoModel->photo = 'imagem2.png';
=> "imagem2.png"
>>> \App\Models\Event::find(35)->photos()->save($photoModel);
=> App\Models\Photo {#3404
     photo: "imagem2.png",
     event_id: 35,
     updated_at: "2021-07-02 12:00:21",
     created_at: "2021-07-02 12:00:21",
     id: 2,
   }

```

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> namespace App\Models
>>> $photo1 = new Photo();
=> App\Models\Photo {#3397}
>>> $photo1->photo = 'fotoexemplo1.jpg';
=> "fotoexemplo1.jpg"
>>> $photo2 = new Photo();
=> App\Models\Photo {#3400}
>>> $photo2->photo = 'fotoexemplo2.jpg';
=> "fotoexemplo2.jpg"
>>> $photosarray = [$photo1, $photo2];
=> [
     App\Models\Photo {#3397
       photo: "fotoexemplo1.jpg",
     },
     App\Models\Photo {#3400
       photo: "fotoexemplo2.jpg",
     },
   ]
>>> Event::find(34)->photos()->saveMany($photosarray);
=> [
     App\Models\Photo {#3397
       photo: "fotoexemplo1.jpg",
       event_id: 34,
       updated_at: "2021-07-02 12:06:13",
       created_at: "2021-07-02 12:06:13",
       id: 3,
     },
     App\Models\Photo {#3400
       photo: "fotoexemplo2.jpg",
       event_id: 34,
       updated_at: "2021-07-02 12:06:13",
       created_at: "2021-07-02 12:06:13",
       id: 4,
     },
   ]

```

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> $photo11 = ['photo'=>'foto11.png'];
=> [
     "photo" => "foto11.png",
   ]
>>> $photo22 = ['photo'=>'foto22.png'];
=> [
     "photo" => "foto22.png",
   ]
>>> $photo1122array = [$photo11, $photo22];
=> [
     [
       "photo" => "foto11.png",
     ],
     [
       "photo" => "foto22.png",
     ],
   ]

>>> \App\Models\Event::find(33)->photos()->createMany($photo1122array);
=> Illuminate\Database\Eloquent\Collection {#4283
     all: [
       App\Models\Photo {#3411
         photo: "foto11.png",
         event_id: 33,
         updated_at: "2021-07-02 12:10:23",
         created_at: "2021-07-02 12:10:23",
         id: 5,
       },
       App\Models\Photo {#4128
         photo: "foto22.png",
         event_id: 33,
         updated_at: "2021-07-02 12:10:23",
         created_at: "2021-07-02 12:10:23",
         id: 6,
       },
     ],
   }

```

[Voltar ao Índice](#indice)

---


## <a name="parte54">54 - 49 - Recuperando 1:N</a>

```
$ php artisan tinker
Psy Shell v0.10.8 (PHP 7.4.19 — cli) by Justin Hileman
>>> namespace App\Models;
>>> $event = Event::find(35);
=> App\Models\Event {#4195
     id: 35,
     title: "Titulo add 363",
     description: "Descrição 3333 UPDATE MASS",
     body: "Corpo 3 UPDATE MASS",
     start_event: "2021-07-01 12:04:44",
     created_at: "2021-07-01 12:04:44",
     updated_at: "2021-07-01 12:05:08",
     slug: "titulo-adddddd-3-with-array-3",
   }
>>> $event->photos;
=> Illuminate\Database\Eloquent\Collection {#4338
     all: [
       App\Models\Photo {#4091
         id: 1,
         event_id: 35,
         photo: "imagem.png",
         created_at: "2021-07-02 11:56:30",
         updated_at: "2021-07-02 11:56:30",
       },
       App\Models\Photo {#4128
         id: 2,
         event_id: 35,
         photo: "imagem2.png",
         created_at: "2021-07-02 12:00:21",
         updated_at: "2021-07-02 12:00:21",
       },
     ],
   }

```

```
>>> $event->photos();
=> Illuminate\Database\Eloquent\Relations\HasMany {#3723}

>>> $event->photos()->get();
=> Illuminate\Database\Eloquent\Collection {#4284
     all: [
       App\Models\Photo {#3410
         id: 1,
         event_id: 35,
         photo: "imagem.png",
         created_at: "2021-07-02 11:56:30",
         updated_at: "2021-07-02 11:56:30",
       },
       App\Models\Photo {#4346
         id: 2,
         event_id: 35,
         photo: "imagem2.png",
         created_at: "2021-07-02 12:00:21",
         updated_at: "2021-07-02 12:00:21",
       },
     ],
   }
>>> $event->photos()->limit(1)->get();
=> Illuminate\Database\Eloquent\Collection {#4285
     all: [
       App\Models\Photo {#4341
         id: 1,
         event_id: 35,
         photo: "imagem.png",
         created_at: "2021-07-02 11:56:30",
         updated_at: "2021-07-02 11:56:30",
       },
     ],
   }

>>> $event->photos()->orderBy('id', 'desc')->get();
=> Illuminate\Database\Eloquent\Collection {#3400
     all: [
       App\Models\Photo {#3410
         id: 2,
         event_id: 35,
         photo: "imagem2.png",
         created_at: "2021-07-02 12:00:21",
         updated_at: "2021-07-02 12:00:21",
       },
       App\Models\Photo {#4346
         id: 1,
         event_id: 35,
         photo: "imagem.png",
         created_at: "2021-07-02 11:56:30",
         updated_at: "2021-07-02 11:56:30",
       },
     ],
   }

```

```
>>> $photos = $event->photos;
=> Illuminate\Database\Eloquent\Collection {#4338
     all: [
       App\Models\Photo {#4091
         id: 1,
         event_id: 35,
         photo: "imagem.png",
         created_at: "2021-07-02 11:56:30",
         updated_at: "2021-07-02 11:56:30",
       },
       App\Models\Photo {#4128
         id: 2,
         event_id: 35,
         photo: "imagem2.png",
         created_at: "2021-07-02 12:00:21",
         updated_at: "2021-07-02 12:00:21",
       },
     ],
   }
>>> $photos->count();
=> 2

>>> $photos->map(function($model){return $model->photo;});
=> Illuminate\Support\Collection {#4341
     all: [
       "imagem.png",
       "imagem2.png",
     ],
   }

```

```
>>> Photo::find(1);
=> App\Models\Photo {#4347
     id: 1,
     event_id: 35,
     photo: "imagem.png",
     created_at: "2021-07-02 11:56:30",
     updated_at: "2021-07-02 11:56:30",
   }
>>> Photo::find(1)->event;
=> App\Models\Event {#4285
     id: 35,
     title: "Titulo add 363",
     description: "Descrição 3333 UPDATE MASS",
     body: "Corpo 3 UPDATE MASS",
     start_event: "2021-07-01 12:04:44",
     created_at: "2021-07-01 12:04:44",
     updated_at: "2021-07-01 12:05:08",
     slug: "titulo-adddddd-3-with-array-3",
   }
>>> Photo::find(1)->event->title;
=> "Titulo add 363"

```

[Voltar ao Índice](#indice)

---


## <a name="parte55">55 - 50 - Migração N:N</a>



[Voltar ao Índice](#indice)

---


## <a name="parte56">56 - 51 - Gerando Algumas Categories</a>



[Voltar ao Índice](#indice)

---


## <a name="parte57">57 - 52 - Mapeando N:N Models</a>



[Voltar ao Índice](#indice)

---


## <a name="parte58">58 - 53 - Salvando N:N</a>



[Voltar ao Índice](#indice)

---


## <a name="parte59">59 - 54 - Recuperando N:N</a>



[Voltar ao Índice](#indice)

---


## <a name="parte60">60 - 55 - Manipulando BelongsTo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte61">61 - 56 - Conclusão</a>



[Voltar ao Índice](#indice)

---


## <a name="parte62">62 - 6. Factories com Relacionamentos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte63">63 - 57 - Iniciando Factories: Profile e Photo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte64">64 - 58 - Factories com Relacionamento HasMany</a>



[Voltar ao Índice](#indice)

---


## <a name="parte65">65 - 59 - Factories com Relacionamento HasOne</a>



[Voltar ao Índice](#indice)

---


## <a name="parte66">66 - 60 - Factories com BelongsTo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte67">67 - 61 - Executando as Factories via Seed</a>



[Voltar ao Índice](#indice)

---


## <a name="parte68">68 - 7. View: Laravel Blade</a>



[Voltar ao Índice](#indice)

---


## <a name="parte69">69 - 62 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte70">70 - 63 - Relembrando as Views</a>



[Voltar ao Índice](#indice)

---


## <a name="parte71">71 - 64 - Loop e Passagem de Dados View</a>



[Voltar ao Índice](#indice)

---


## <a name="parte72">72 - 65 - Diretiva ForElse</a>



[Voltar ao Índice](#indice)

---


## <a name="parte73">73 - 66 - O print do Blade</a>



[Voltar ao Índice](#indice)

---


## <a name="parte74">74 - 67 - Herança de Templates</a>



[Voltar ao Índice](#indice)

---


## <a name="parte75">75 - 68 - Incrementando Views de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte76">76 - 69 - Melhorias Home e Inicio de Single</a>



[Voltar ao Índice](#indice)

---


## <a name="parte77">77 - 70 - Compondo View Single Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte78">78 - 71 - Exibindo Fotos Evento se Existirem</a>



[Voltar ao Índice](#indice)

---


## <a name="parte79">79 - 72 - Organizando com HomeController</a>



[Voltar ao Índice](#indice)

---


## <a name="parte80">80 - 73 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte81">81 - 8. View: Manipulação de Formulários</a>



[Voltar ao Índice](#indice)

---


## <a name="parte82">82 - 74 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte83">83 - 75 - Organizando Rotas Painel Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte84">84 - 76 - Listagem de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte85">85 - 77 - Paginando Dados</a>



[Voltar ao Índice](#indice)

---


## <a name="parte86">86 - 78 - Tela de Criação de Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte87">87 - 79 - Entendendo CSRF no Laravel</a>



[Voltar ao Índice](#indice)

---


## <a name="parte88">88 - 80 - Manipulando Dados da Request</a>



[Voltar ao Índice](#indice)

---


## <a name="parte89">89 - 81 - Editando Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte90">90 - 82 - Linkando Edição e Remoção de Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte91">91 - 83 - Melhorias Manipulação de Request</a>



[Voltar ao Índice](#indice)

---


## <a name="parte92">92 - 84 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte93">93 - 9. Laravel Router</a>



[Voltar ao Índice](#indice)

---


## <a name="parte94">94 - 85 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte95">95 - 86 - Relembrando Rotas</a>



[Voltar ao Índice](#indice)

---


## <a name="parte96">96 - 87 - Organizando Rotas com Prefixo e Grupo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte97">97 - 88 - Usando Apelido de Rotas</a>



[Voltar ao Índice](#indice)

---


## <a name="parte98">98 - 89 - Refatorando Links nas Views</a>



[Voltar ao Índice](#indice)

---


## <a name="parte99">99 - 90 - Refatorando Redirecionamentos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte100">100 - 91 - Dando um Tapa no Painel de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte101">101 - 92 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte102">102 - 10. Manipulando Validações</a>



[Voltar ao Índice](#indice)

---


## <a name="parte103">103 - 93 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte104">104 - 94 - Usando Validação Controller</a>



[Voltar ao Índice](#indice)

---


## <a name="parte105">105 - 95 - Exibindo Todoas as Validações na View</a>



[Voltar ao Índice](#indice)

---


## <a name="parte106">106 - 96 - Exibindo Validações POr Input</a>



[Voltar ao Índice](#indice)

---


## <a name="parte107">107 - 97 - Diretiva @error</a>



[Voltar ao Índice](#indice)

---


## <a name="parte108">108 - 98 - Traduzindo Mensagens de Validação</a>



[Voltar ao Índice](#indice)

---


## <a name="parte109">109 - 99 - Melhorando Para Form Requests</a>



[Voltar ao Índice](#indice)

---


## <a name="parte110">110 - 100 - Validação na Edição do Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte111">111 - 101 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte112">112 - 11. Controllers como Recurso</a>



[Voltar ao Índice](#indice)

---


## <a name="parte113">113 - 102 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte114">114 - 103 - O que são Controllers como Recurso</a>



[Voltar ao Índice](#indice)

---


## <a name="parte115">115 - 104 - Criando Controllers como Recurso</a>



[Voltar ao Índice](#indice)

---


## <a name="parte116">116 - 105 - Controller como Recurso em Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte117">117 - 106 - Tomando Nota dos Ganhos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte118">118 - 107 - Recursos Aninhados</a>



[Voltar ao Índice](#indice)

---


## <a name="parte119">119 - 108 - Recursos Aninhados no Projeto e Mais</a>



[Voltar ao Índice](#indice)

---


## <a name="parte120">120 - 109 - Registrando Vários Recursos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte121">121 - 110 - DI nos Controllers</a>



[Voltar ao Índice](#indice)

---


## <a name="parte122">122 - 111 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte123">123 - 12. Primeiro Starter Point: Laravel UI</a>



[Voltar ao Índice](#indice)

---


## <a name="parte124">124 - 112 - Intro e Obtendo Laravel UI</a>



[Voltar ao Índice](#indice)

---


## <a name="parte125">125 - 113 - Gerando Autenticação</a>



[Voltar ao Índice](#indice)

---


## <a name="parte126">126 - 114 - Conhecendo os Arquivos do Auth</a>



[Voltar ao Índice](#indice)

---


## <a name="parte127">127 - 115 - Adaptações do Nosso Painel</a>



[Voltar ao Índice](#indice)

---


## <a name="parte128">128 - 116 - O Btn de Logout</a>



[Voltar ao Índice](#indice)

---


## <a name="parte129">129 - 117 - Arquivo de Configurações Auth</a>



[Voltar ao Índice](#indice)

---


## <a name="parte130">130 - 118 - Configurações para Dono de Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte131">131 - 119 - Eventos por Usuário Logado</a>



[Voltar ao Índice](#indice)

---


## <a name="parte132">132 - 120 - O Middleware Authenticate</a>



[Voltar ao Índice](#indice)

---


## <a name="parte133">133 - 121 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte134">134 - 13. Melhorias Projeto Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte135">135 - 122 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte136">136 - 123 - Entendendo Eloquent Accessors</a>



[Voltar ao Índice](#indice)

---


## <a name="parte137">137 - 124 - Entendendo Eloquent Mutators</a>



[Voltar ao Índice](#indice)

---


## <a name="parte138">138 - 125 - Máscara de Data Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte139">139 - 126 - Formatando Data para o Banco</a>



[Voltar ao Índice](#indice)

---


## <a name="parte140">140 - 127 - Nosso primeiro Middleware</a>



[Voltar ao Índice](#indice)

---


## <a name="parte141">141 - 128 - Usuário: Bloqueando Acesso A Outros Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte142">142 - 129 - Melhorias Home de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte143">143 - 130 - Busca de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte144">144 - 131 - Filtro Por Categorias</a>



[Voltar ao Índice](#indice)

---


## <a name="parte145">145 - 132 - View Share e Composer</a>



[Voltar ao Índice](#indice)

---


## <a name="parte146">146 - 133 - Melhorando View Composer</a>



[Voltar ao Índice](#indice)

---


## <a name="parte147">147 - 134 - Eventos Que Vão Acontecer e Concluindo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte148">148 - 14. Upload de Arquivos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte149">149 - 135 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte150">150 - 136 - Iniciando Upload</a>



[Voltar ao Índice](#indice)

---


## <a name="parte151">151 - 137 - Configurações de Upload</a>



[Voltar ao Índice](#indice)

---


## <a name="parte152">152 - 138 - Upload e Save no Banco</a>



[Voltar ao Índice](#indice)

---


## <a name="parte153">153 - 139 - Validando Upload de Imagens</a>



[Voltar ao Índice](#indice)

---


## <a name="parte154">154 - 140 - Iniciando Upload na Edição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte155">155 - 141 - Concluindo Upload na Edição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte156">156 - 142 - Upload de Múltiplos Arquivos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte157">157 - 143 - Salvando Referencias no Banco Upload Múltiplo</a>



[Voltar ao Índice](#indice)

---


## <a name="parte158">158 - 144 - Validando Múltiplos Arquivos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte159">159 - 145 - Deletando Fotos do Evento</a>



[Voltar ao Índice](#indice)

---


## <a name="parte160">160 - 146 - Falando Mais Sobre Route Model Bind</a>



[Voltar ao Índice](#indice)

---


## <a name="parte161">161 - 147 - Jogando o Upload para Trait</a>



[Voltar ao Índice](#indice)

---


## <a name="parte162">162 - 148 - Conclusões</a>



[Voltar ao Índice](#indice)

---


## <a name="parte163">163 - 15. Melhorias & Encerramento Bloco 1 --atualizando</a>



[Voltar ao Índice](#indice)

---


## <a name="parte164">164 - 149 - Introdução</a>



[Voltar ao Índice](#indice)

---


## <a name="parte165">165 - 150 - Mapeando Relação Inscrição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte166">166 - 151 - Entendendo M-M com Dados Extras</a>



[Voltar ao Índice](#indice)

---


## <a name="parte167">167 - 152 - Iniciando Processo de Inscrição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte168">168 - 153 - Tela de Confirmação de Inscrição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte169">169 - 154 - Concluindo Processo de Inscrição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte170">170 - 155 - Melhorias Processo de Inscrição</a>



[Voltar ao Índice](#indice)

---


## <a name="parte171">171 - 156 - Classe Mailable</a>



[Voltar ao Índice](#indice)

---


## <a name="parte172">172 - 157 - Configurações e Envio de E-mail</a>



[Voltar ao Índice](#indice)

---


## <a name="parte173">173 - 158 - Evento: Uma Inscrição Por Usuário</a>



[Voltar ao Índice](#indice)

---


## <a name="parte174">174 - 159 - Categorias Na Criação e Edição de Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte175">175 - 160 - Processando Associação de Categorias e Eventos</a>



[Voltar ao Índice](#indice)

---


## <a name="parte176">176 - 161 - Melhorias Painel</a>



[Voltar ao Índice](#indice)

---


## <a name="parte177">177 - 162 - Iniciando Perfil do Usuário</a>



[Voltar ao Índice](#indice)

---


## <a name="parte178">178 - 163 - Processando Atualização de Perfil</a>



[Voltar ao Índice](#indice)

---


## <a name="parte179">179 - 164 - Validações na Atualização do Perfil</a>



[Voltar ao Índice](#indice)

---


## <a name="parte180">180 - 165 - O Validador Unique no Update</a>



[Voltar ao Índice](#indice)

---


## <a name="parte181">181 - 166 - Concluindo Perfil</a>



[Voltar ao Índice](#indice)

---

